{"version":3,"sources":["../../src/pages/service/service.module.ts","../../src/pages/service/service.ts"],"names":[],"mappings":"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","file":"18.js","sourcesContent":["import {NgModule} from '@angular/core';\nimport {IonicPageModule} from 'ionic-angular';\nimport {ServicePage} from './service';\nimport {Ionic2RatingModule} from \"ionic2-rating\";\n\n@NgModule({\n  declarations: [\n    ServicePage\n  ],\n  imports: [\n    Ionic2RatingModule,\n    IonicPageModule.forChild(ServicePage),\n  ],\n  exports: [\n    ServicePage\n  ]\n})\nexport class ServicePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/service/service.module.ts","import {Component} from '@angular/core';\r\nimport {IonicPage, NavController, ModalController, NavParams, AlertController, ToastController} from 'ionic-angular';\r\nimport {RequestService} from \"../../providers/request.service\";\r\nimport {UserService} from \"../../providers/user.service\";\r\nimport {Profil} from \"../../providers/model/profil\";\r\nimport {ArticleService} from \"../../providers/article.service\";\r\nimport { InAppBrowser } from '@ionic-native/in-app-browser';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-service',\r\n  templateUrl: 'service.html',\r\n})\r\nexport class ServicePage {\r\n\r\n  serviceOrdered: any;\r\n  service: any;\r\n  key: any;\r\n  mine: any;\r\n  profil: Profil;\r\n  uid: string;\r\n  alive: boolean = true;\r\n\r\n  constructor(private params: NavParams,\r\n              private navCtrl: NavController,\r\n              private requestService: RequestService,\r\n              public modalCtrl: ModalController,\r\n              public userService: UserService,\r\n              public alertCtrl: AlertController,\r\n              private articleService: ArticleService,\r\n              public toastCtrl: ToastController,\r\n              private iab: InAppBrowser\r\n  ) {\r\n    this.service = params.get('service');\r\n    this.key = params.get('key');\r\n    this.mine = params.get('mine');\r\n    if(!this.mine) {\r\n      this.mine = false;\r\n    }\r\n    if(params.get('serviceOrdered')) {\r\n      this.serviceOrdered = params.get('serviceOrdered');\r\n    }\r\n    this.uid = this.userService._userFirebase.uid;\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n\r\n    this.userService.getProfil(this.service.uid).takeWhile(() => this.alive).subscribe(p => {\r\n      this.profil = p;\r\n      this.profil['rate'] = 0;\r\n    });\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    this.alive = true;\r\n  }\r\n\r\n  ionViewWillLeave() {\r\n    this.alive = false;\r\n  }\r\n\r\n  generatePayment() {\r\n    //TODO choose crypto trigram\r\n    let createdCode = this.requestService.generateRequest(\r\n      \"pay-service\",\r\n      { id: this.key\r\n      });\r\n\r\n    let modal = this.modalCtrl.create('ModalServiceQrcode', {\r\n      createdCode: createdCode\r\n    });\r\n    modal.onDidDismiss(data => {\r\n      if(data == \"success\") {\r\n        this.navCtrl.pop();\r\n      }\r\n    });\r\n    modal.present();\r\n\r\n  }\r\n\r\n  order() {\r\n    let createdCode = this.requestService.generateRequest(\r\n      \"order-service\",\r\n      { id: this.key\r\n      });\r\n\r\n    if(createdCode.indexOf('neoplace') >= 0) {\r\n      this.requestService.processRequest(createdCode);\r\n    }\r\n  }\r\n\r\n  pay() {\r\n    this.articleService.getServiceOrderId(this.serviceOrdered.$key).takeWhile(() => this.alive).subscribe(data => {\r\n      if(data) {\r\n        if(data.status != 'paid') {\r\n          let createdCode = this.requestService.generateRequest(\r\n            \"pay-service\",\r\n            { id: this.key\r\n            });\r\n\r\n          if(createdCode.indexOf('neoplace') >= 0) {\r\n            this.requestService.processRequest(createdCode);\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  contact() {\r\n    let uidArray = [this.userService._userFirebase.uid, this.service.uid];\r\n    uidArray = uidArray.sort();\r\n    this.userService.getProfil(this.service.uid).takeWhile(() => this.alive).subscribe(profil => {\r\n      if(profil.telegram) {\r\n        let confirm = this.alertCtrl.create({\r\n          title: 'Contact',\r\n          message: 'Chat with Telegram or NeoPlace chat ?',\r\n          cssClass: 'confirm-alert',\r\n          buttons: [\r\n            {\r\n              text: 'Telegram',\r\n              handler: () => {\r\n                const browser = this.iab.create('https://t.me/' + profil.telegram, '_system');\r\n              }\r\n            },\r\n            {\r\n              text: 'NeoPlace chat',\r\n              handler: () => {\r\n                this.navCtrl.push('MessagesPage', {id: uidArray[0] + \"-\" + uidArray[1], profil: profil, otherUid: this.service.uid});\r\n              }\r\n            }\r\n          ]\r\n        });\r\n        confirm.present();\r\n      } else {\r\n        this.navCtrl.push('MessagesPage', {id: uidArray[0] + \"-\" + uidArray[1], profil: profil, otherUid: this.service.uid});\r\n      }\r\n    });\r\n  }\r\n\r\n  contactBuyer() {\r\n    let uidArray = [this.serviceOrdered.buyeruid, this.serviceOrdered.saleruid];\r\n    uidArray = uidArray.sort();\r\n    this.userService.getProfil(this.serviceOrdered.buyeruid).takeWhile(() => this.alive).subscribe(profil => {\r\n      if(profil.telegram) {\r\n        let confirm = this.alertCtrl.create({\r\n          title: 'Contact',\r\n          message: 'Chat with Telegram or NeoPlace chat ?',\r\n          cssClass: 'confirm-alert',\r\n          buttons: [\r\n            {\r\n              text: 'Telegram',\r\n              handler: () => {\r\n                const browser = this.iab.create('https://t.me/' + profil.telegram, '_system');\r\n              }\r\n            },\r\n            {\r\n              text: 'NeoPlace chat',\r\n              handler: () => {\r\n                this.navCtrl.push('MessagesPage', {id: uidArray[0] + \"-\" + uidArray[1], profil: profil, otherUid: this.serviceOrdered.buyeruid});\r\n              }\r\n            }\r\n          ]\r\n        });\r\n        confirm.present();\r\n      } else {\r\n        this.navCtrl.push('MessagesPage', {id: uidArray[0] + \"-\" + uidArray[1], profil: profil, otherUid: this.serviceOrdered.buyeruid});\r\n      }\r\n    });\r\n  }\r\n\r\n  accept() {\r\n    this.serviceOrdered.status = \"accepted\";\r\n    //TODO inform the buyer new status\r\n    this.articleService.updateServiceOrdered(this.key, this.serviceOrdered);\r\n  }\r\n\r\n  startService() {\r\n    this.serviceOrdered.status = \"started\";\r\n    //TODO inform the buyer new status\r\n    this.articleService.updateServiceOrdered(this.key, this.serviceOrdered);\r\n  }\r\n\r\n  finishService() {\r\n    //TODO inform the buyer new status\r\n    //TODO add field to complete the nb hour real\r\n\r\n    if(this.service.isHourly) {\r\n      let prompt = this.alertCtrl.create({\r\n        title: 'Number of hours effectively done',\r\n        subTitle: '',\r\n        cssClass: 'promt-alert',\r\n        inputs: [\r\n          {\r\n            name: 'hour',\r\n            placeholder: 'Nb hour done',\r\n            type: 'number'\r\n          },\r\n        ],\r\n        buttons: [\r\n          {\r\n            text: 'Cancel',\r\n            handler: data => {\r\n              //console.log('Cancel clicked');\r\n            }\r\n          },\r\n          {\r\n            text: 'Validate',\r\n            handler: data => {\r\n              if(!data.hour) {\r\n                const alert = this.alertCtrl.create({\r\n                  title: 'Error !',\r\n                  subTitle: 'Fill an estimated hour',\r\n                  buttons: ['Close']\r\n                });\r\n                alert.present();\r\n                return false;\r\n              }\r\n\r\n              if(data.hour && data.hour <= 0) {\r\n                const alert = this.alertCtrl.create({\r\n                  title: 'Error !',\r\n                  subTitle: 'No valid estimated hour',\r\n                  buttons: ['Close']\r\n                });\r\n                alert.present();\r\n                return false;\r\n              }\r\n\r\n              this.serviceOrdered.status = \"finished\";\r\n\r\n              this.serviceOrdered.nbHourReal = data.hour;\r\n\r\n              this.articleService.updateServiceOrdered(this.key, this.serviceOrdered);\r\n            }\r\n          }\r\n        ]\r\n      });\r\n      prompt.present();\r\n    }\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n  delete() {\r\n    let confirm = this.alertCtrl.create({\r\n      title: 'Delete',\r\n      message: 'Are you sure to delete your article ?',\r\n      cssClass: 'confirm-alert',\r\n      buttons: [\r\n        {\r\n          text: 'Cancel',\r\n          handler: () => {\r\n            //console.log('Disagree clicked');\r\n          }\r\n        },\r\n        {\r\n          text: 'Confirm',\r\n          handler: () => {\r\n            this.articleService.deleteService(this.key);\r\n            this.toastCtrl.create({\r\n              message: 'Service deleted',\r\n              duration: 2000,\r\n              position: 'bottom'\r\n            }).present();\r\n\r\n            this.navCtrl.pop();\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    confirm.present();\r\n  }\r\n\r\n  soon() {\r\n    this.toastCtrl.create({\r\n      message: 'Coming soon',\r\n      duration: 2000,\r\n      position: 'bottom'\r\n    }).present();\r\n  }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/service/service.ts"],"sourceRoot":""}