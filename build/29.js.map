{"version":3,"sources":["../../src/pages/discussions/discussions.module.ts","../../src/pages/discussions/discussions.ts"],"names":[],"mappings":"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","file":"29.js","sourcesContent":["import {NgModule} from '@angular/core';\nimport {IonicPageModule} from 'ionic-angular';\nimport {DiscussionsPage} from \"./discussions\";\n\n@NgModule({\n  declarations: [\n    DiscussionsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(DiscussionsPage)\n  ],\n  exports: [\n    DiscussionsPage\n  ]\n})\nexport class WalletPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/discussions/discussions.module.ts","import {Component} from '@angular/core';\r\nimport {IonicPage, ModalController, NavController} from 'ionic-angular';\r\nimport {UserService} from \"../../providers/user.service\";\r\nimport {MessageService} from \"../../providers/message.service\";\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-discussions',\r\n  templateUrl: 'discussions.html',\r\n})\r\nexport class DiscussionsPage {\r\n\r\n  discussions= [];\r\n  alive: boolean = true;\r\n\r\n  constructor(private navCtrl: NavController,\r\n              public modalCtrl: ModalController,\r\n              public userService: UserService,\r\n              private messageService: MessageService\r\n  ) {\r\n\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this.messageService.getDiscussions(this.userService._userFirebase.uid)\r\n      .takeWhile(() => this.alive)\r\n      .subscribe(data => {\r\n        //console.log(data);\r\n        for(let key of data) {\r\n          let d = key.$key;\r\n          let uids = d.split(\"-\");\r\n\r\n          if(uids[0] == this.userService._userFirebase.uid) {\r\n           this.userService.getProfil(uids[1]).subscribe(p => this.discussions.push({id: d, profile: p}));\r\n          } else {\r\n            this.userService.getProfil(uids[0]).subscribe(p => this.discussions.push({id: d, profile: p}));\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  ionViewWillLeave() {\r\n    this.alive = false;\r\n  }\r\n\r\n  openItem(id, profil) {\r\n    let uids = id.split(\"-\");\r\n\r\n    if(uids[0] == this.userService._userFirebase.uid) {\r\n      this.navCtrl.push('MessagesPage', {id: id, profil: profil, otherUid: uids[1]});\r\n    } else {\r\n      this.navCtrl.push('MessagesPage', {id: id, profil: profil, otherUid: uids[0]});\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/discussions/discussions.ts"],"sourceRoot":""}