{"version":3,"sources":["../../src/pages/wallet-action/modalpopup/modal-wallet-action.module.ts","../../src/pages/wallet-action/modalpopup/modal-wallet-action.ts","../../src/pipes/truncate.pipe.ts"],"names":[],"mappings":"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","file":"8.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport {ModalWalletAction} from \"./modal-wallet-action\";\r\nimport {TruncatePipe} from \"../../../pipes/truncate.pipe\";\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ModalWalletAction,\r\n    TruncatePipe\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(ModalWalletAction),\r\n  ],\r\n  exports: [\r\n    ModalWalletAction,\r\n    TruncatePipe\r\n  ]\r\n})\r\nexport class ModalWalletActionModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/wallet-action/modalpopup/modal-wallet-action.module.ts","import {Component} from '@angular/core';\r\nimport {AlertController, IonicPage, NavParams, Platform, ViewController} from 'ionic-angular';\r\nimport {Wallet} from \"../../../providers/model/wallet\";\r\nimport {TransactionService} from \"../../../providers/transaction.service\";\r\n\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-modal-action-wallet',\r\n  templateUrl: 'modal-wallet-action.html'\r\n})\r\nexport class ModalWalletAction {\r\n  wallet: Wallet;\r\n  address: any;\r\n  amount: any;\r\n\r\n  fiat: boolean;\r\n  amountFiat: any;\r\n  currency: any;\r\n\r\n  constructor(\r\n    private alertCtrl: AlertController,\r\n    public platform: Platform,\r\n    public params: NavParams,\r\n    public viewCtrl: ViewController,\r\n    public transaction: TransactionService\r\n  ) {\r\n\r\n    this.wallet = this.params.get('wallet');\r\n    this.address = this.params.get('address');\r\n    this.amount = this.params.get('amount');\r\n\r\n    this.fiat = this.params.get('fiat');\r\n    this.amountFiat = this.params.get('amountFiat');\r\n    this.currency = this.params.get('currency');\r\n  }\r\n\r\n  dismiss(status) {\r\n    this.viewCtrl.dismiss(status);\r\n  }\r\n\r\n  validate() {\r\n    let prompt = this.alertCtrl.create({\r\n      title: 'Confirm transaction',\r\n      subTitle: 'Enter your password',\r\n      cssClass: 'promt-alert',\r\n      inputs: [\r\n        {\r\n          name: 'password',\r\n          placeholder: 'Password',\r\n          type: 'password'\r\n        },\r\n      ],\r\n      buttons: [\r\n        {\r\n          text: 'Cancel',\r\n          handler: data => {\r\n            //console.log('Cancel clicked');\r\n          }\r\n        },\r\n        {\r\n          text: 'Validate',\r\n          handler: data => {\r\n            //TODO check content\r\n            if(!this.fiat) {\r\n              this.transaction.send(\r\n                this.wallet.trigram,\r\n                this.wallet,\r\n                this.address,\r\n                this.amount,\r\n                data.password.trim(),\r\n                \"Send\"\r\n              );\r\n            } else {\r\n              this.transaction.getFiat(\r\n                this.wallet.trigram,\r\n                this.wallet,\r\n                this.address,\r\n                this.amount,\r\n                data.password.trim(),\r\n                this.amountFiat + ' ' + this.currency,\r\n                this.currency\r\n              );\r\n            }\r\n\r\n            this.dismiss(\"success\");\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    prompt.present();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/wallet-action/modalpopup/modal-wallet-action.ts","import {Pipe, PipeTransform} from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'limitTo'\r\n})\r\nexport class TruncatePipe implements PipeTransform {\r\n  transform(value: string, args: string) : string {\r\n    // let limit = args.length > 0 ? parseInt(args[0], 10) : 10;\r\n    // let trail = args.length > 1 ? args[1] : '...';\r\n    let limit = args ? parseInt(args, 10) : 10;\r\n    let trail = '...';\r\n\r\n    return value.length > limit ? value.substring(0, limit) + trail : value;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/truncate.pipe.ts"],"sourceRoot":""}