{"version":3,"sources":["../../src/pages/auth/register/register.module.ts","../../src/pages/auth/register/register.ts"],"names":[],"mappings":"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","file":"30.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport {RegisterPage} from \"./register\";\n\n@NgModule({\n  declarations: [\n    RegisterPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(RegisterPage),\n  ],\n})\nexport class RegisterPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/auth/register/register.module.ts","import { Component } from '@angular/core';\r\nimport {AlertController, LoadingController, IonicPage, NavController, NavParams, ToastController} from 'ionic-angular';\r\nimport { FormGroup, FormBuilder, Validators, AbstractControl } from '@angular/forms';\r\nimport {UserService} from \"../../../providers/user.service\";\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-register',\r\n  templateUrl: 'register.html',\r\n})\r\nexport class RegisterPage {\r\n\r\n  loading: any;\r\n  alert: any;\r\n  regisForm: FormGroup;\r\n  emailRegister: AbstractControl;\r\n  passwordRegister: AbstractControl;\r\n  confirmPassword: AbstractControl;\r\n\r\n\r\n  constructor(\r\n    public toastCtrl: ToastController,\r\n    public loadingCtrl: LoadingController,\r\n    public alertCtrl: AlertController,\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    private formBuilder: FormBuilder,\r\n    public userService: UserService\r\n  ) {\r\n\r\n    this.regisForm = this.formBuilder.group({\r\n      'emailRegister': ['', Validators.compose([Validators.required, Validators.pattern(/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/)])],\r\n      'passwordRegister': ['', Validators.compose([Validators.required, Validators.minLength(6)])],\r\n      'confirmPassword': ['', Validators.compose([Validators.required, Validators.minLength(6)])]\r\n    });\r\n\r\n    this.emailRegister = this.regisForm.controls['emailRegister'];\r\n    this.passwordRegister = this.regisForm.controls['passwordRegister'];\r\n    this.confirmPassword = this.regisForm.controls['confirmPassword'];\r\n\r\n  }\r\n\r\n  doRegister() {\r\n    var account = ({username: this.emailRegister.value.trim(), password: this.passwordRegister.value.trim()});\r\n\r\n    if(!account.username || !account.password || account.password != this.confirmPassword.value) {\r\n      const alert = this.alertCtrl.create({\r\n        title: 'Error',\r\n        subTitle: 'No valid email/password',\r\n        buttons: ['Dismiss']\r\n      });\r\n      alert.present();\r\n      return;\r\n    }\r\n\r\n    const loading = this.loadingCtrl.create({\r\n      content: 'Please wait while creating your account'\r\n    });\r\n\r\n    loading.present();\r\n\r\n    this.userService.signup(account).then(resp => {\r\n      this.userService.login(account).then(resp1 => {\r\n        loading.dismiss();\r\n        this.navCtrl.setRoot('ProfileSettingsPage', {isNew: true});\r\n      }, err => {\r\n        const alert1 = this.alertCtrl.create({\r\n          title: 'Error',\r\n          subTitle: 'No valid email/password',\r\n          buttons: ['Dismiss']\r\n        });\r\n        loading.dismiss();\r\n        alert1.present();\r\n      });\r\n    }).catch(\r\n      (err) => {\r\n        //console.log(\"Unable to sign up\", err);\r\n        loading.dismiss();\r\n        this.alertCtrl.create({\r\n          title: 'Error',\r\n          subTitle: err.message,\r\n          buttons: ['Close']\r\n        }).present();\r\n      });\r\n  }\r\n\r\n  showLoading() {\r\n    this.loading = this.loadingCtrl.create({\r\n      content: 'Please wait...'\r\n    });\r\n    this.loading.present();\r\n  }\r\n\r\n  showError(text) {\r\n    let alert = this.alertCtrl.create({\r\n      title: 'Fail',\r\n      subTitle: text,\r\n      buttons: ['OK']\r\n    });\r\n    alert.present();\r\n  }\r\n\r\n  hintFormatPassword() {\r\n    this.toastCtrl.create({\r\n      message: 'Minimum password length required : 6 characters',\r\n      duration: 4000,\r\n      position: 'bottom'\r\n    }).present();\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/auth/register/register.ts"],"sourceRoot":""}