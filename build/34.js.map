{"version":3,"sources":["../../src/pages/article/article.module.ts","../../src/pages/article/article.ts"],"names":[],"mappings":"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","file":"34.js","sourcesContent":["import {NgModule} from '@angular/core';\nimport {IonicPageModule} from 'ionic-angular';\nimport {ArticlePage} from './article';\nimport {Ionic2RatingModule} from \"ionic2-rating\";\n\n@NgModule({\n  declarations: [\n    ArticlePage\n  ],\n  imports: [\n    Ionic2RatingModule,\n    IonicPageModule.forChild(ArticlePage),\n  ],\n  exports: [\n    ArticlePage\n  ]\n})\nexport class ArticlePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/article/article.module.ts","import {Component} from '@angular/core';\r\nimport {IonicPage, NavController, ModalController, NavParams, AlertController, ToastController} from 'ionic-angular';\r\nimport {RequestService} from \"../../providers/request.service\";\r\nimport {UserService} from \"../../providers/user.service\";\r\nimport {Profil} from \"../../providers/model/profil\";\r\nimport {ArticleService} from \"../../providers/article.service\";\r\nimport { InAppBrowser } from '@ionic-native/in-app-browser';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-article',\r\n  templateUrl: 'article.html',\r\n})\r\nexport class ArticlePage {\r\n\r\n  article: any;\r\n  key: any;\r\n  mine: any;\r\n  isInventory: any;\r\n  profil: Profil;\r\n  uid: string;\r\n  alive: boolean = true;\r\n\r\n  constructor(private params: NavParams,\r\n              private navCtrl: NavController,\r\n              private requestService: RequestService,\r\n              public modalCtrl: ModalController,\r\n              public userService: UserService,\r\n              public alertCtrl: AlertController,\r\n              private articleService: ArticleService,\r\n              public toastCtrl: ToastController,\r\n              private iab: InAppBrowser\r\n  ) {\r\n    this.article = params.get('article');\r\n    this.key = params.get('key');\r\n    this.mine = params.get('mine');\r\n    if(!this.mine) {\r\n      this.mine = false;\r\n    }\r\n    this.isInventory = params.get('isInventory');\r\n    this.uid = this.userService._userFirebase.uid;\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this.userService.getProfil(this.article.uid).takeWhile(() => this.alive).subscribe(p => {\r\n      this.profil = p;\r\n      this.profil['rate'] = 0;\r\n    });\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    this.alive = true;\r\n  }\r\n\r\n  ionViewWillLeave() {\r\n    this.alive = false;\r\n  }\r\n\r\n  generatePayment() {\r\n    //TODO choose crypto trigram\r\n    if(!this.isInventory) {\r\n      let createdCode = this.requestService.generateRequest(\r\n        \"pay-article\",\r\n        { id: this.key\r\n        });\r\n\r\n      let modal = this.modalCtrl.create('ModalArticleQrcode', {\r\n        createdCode: createdCode\r\n      });\r\n      modal.onDidDismiss(data => {\r\n        if(data == \"success\") {\r\n          this.navCtrl.pop();\r\n        }\r\n      });\r\n      modal.present();\r\n    } else {\r\n      let createdCode = this.requestService.generateRequest(\r\n        \"pay-inventory\",\r\n        { uid: this.userService._userFirebase.uid, id: this.article.ean\r\n        });\r\n\r\n      let modal = this.modalCtrl.create('ModalArticleQrcode', {\r\n        createdCode: createdCode\r\n      });\r\n      modal.onDidDismiss(data => {\r\n        if(data == \"success\") {\r\n          this.navCtrl.pop();\r\n        }\r\n      });\r\n      modal.present();\r\n    }\r\n  }\r\n\r\n  buy() {\r\n    let createdCode = this.requestService.generateRequest(\r\n      \"pay-article\",\r\n      { id: this.key\r\n      });\r\n\r\n    if(createdCode.indexOf('neoplace') >= 0) {\r\n      this.requestService.processRequest(createdCode);\r\n    }\r\n  }\r\n\r\n  contact() {\r\n    let uidArray = [this.userService._userFirebase.uid, this.article.uid];\r\n    uidArray = uidArray.sort();\r\n\r\n    this.userService.getProfil(this.article.uid).takeWhile(() => this.alive).subscribe(profil => {\r\n      if(profil.telegram) {\r\n        let confirm = this.alertCtrl.create({\r\n          title: 'Contact',\r\n          message: 'Chat with Telegram or NeoPlace chat ?',\r\n          cssClass: 'confirm-alert',\r\n          buttons: [\r\n            {\r\n              text: 'Telegram',\r\n              handler: () => {\r\n                const browser = this.iab.create('https://t.me/' + profil.telegram, '_system');\r\n              }\r\n            },\r\n            {\r\n              text: 'NeoPlace chat',\r\n              handler: () => {\r\n                this.navCtrl.push('MessagesPage', {id: uidArray[0] + \"-\" + uidArray[1], profil: profil, otherUid: this.article.uid});\r\n              }\r\n            }\r\n          ]\r\n        });\r\n        confirm.present();\r\n      } else {\r\n        this.navCtrl.push('MessagesPage', {id: uidArray[0] + \"-\" + uidArray[1], profil: profil, otherUid: this.article.uid});\r\n      }\r\n    });\r\n  }\r\n\r\n  contactBuyer() {\r\n    let uidArray = [this.article.buyeruid, this.article.uid];\r\n    uidArray = uidArray.sort();\r\n    this.userService.getProfil(this.article.buyeruid).takeWhile(() => this.alive).subscribe(profil => {\r\n      this.navCtrl.push('MessagesPage', {id: uidArray[0] + \"-\" + uidArray[1], profil: profil, otherUid: this.article.uid});\r\n    });\r\n\r\n    this.userService.getProfil(this.article.buyeruid).takeWhile(() => this.alive).subscribe(profil => {\r\n      if(profil.telegram) {\r\n        let confirm = this.alertCtrl.create({\r\n          title: 'Contact',\r\n          message: 'Chat with Telegram or NeoPlace chat ?',\r\n          cssClass: 'confirm-alert',\r\n          buttons: [\r\n            {\r\n              text: 'Telegram',\r\n              handler: () => {\r\n                const browser = this.iab.create('https://t.me/' + profil.telegram, '_system');\r\n              }\r\n            },\r\n            {\r\n              text: 'NeoPlace chat',\r\n              handler: () => {\r\n                this.navCtrl.push('MessagesPage', {id: uidArray[0] + \"-\" + uidArray[1], profil: profil, otherUid: this.article.buyeruid});\r\n              }\r\n            }\r\n          ]\r\n        });\r\n        confirm.present();\r\n      } else {\r\n        this.navCtrl.push('MessagesPage', {id: uidArray[0] + \"-\" + uidArray[1], profil: profil, otherUid: this.article.buyeruid});\r\n      }\r\n    });\r\n  }\r\n\r\n  confirmReception() {\r\n    console.log(this.article);\r\n    let toast = this.toastCtrl.create({\r\n      message: 'Item receipt saved in Smart contract.\\nFunds will be sent to seller',\r\n      duration: 4000,\r\n      position: 'bottom'\r\n    });\r\n\r\n    let confirm = this.alertCtrl.create({\r\n      title: 'Confirmation',\r\n      message: 'Are you sure to confirm reception ? \\n Funds will be unlocked',\r\n      cssClass: 'confirm-alert',\r\n      buttons: [\r\n        {\r\n          text: 'Cancel',\r\n          handler: () => {\r\n            //console.log('Disagree clicked');\r\n          }\r\n        },\r\n        {\r\n          text: 'Confirm',\r\n          handler: () => {\r\n            this.article.validate = 'true';\r\n            this.articleService.updateArticle(this.key, this.article);\r\n            toast.present(toast);\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    confirm.present();\r\n  }\r\n\r\n  rollBackConfirm() {\r\n    if(this.article.validate == 'true') {\r\n      this.article.validate = 'false';\r\n      this.articleService.updateArticle(this.key, this.article);\r\n    }\r\n  }\r\n\r\n  rollBackBuy() {\r\n    if(this.article.status == 'sold') {\r\n      this.article.status = 'published';\r\n      this.article.buyeruid = '';\r\n      this.articleService.updateArticle(this.key, this.article);\r\n    }\r\n  }\r\n\r\n  delete() {\r\n    let confirm = this.alertCtrl.create({\r\n      title: 'Delete',\r\n      message: 'Are you sure to delete your item ?',\r\n      cssClass: 'confirm-alert',\r\n      buttons: [\r\n        {\r\n          text: 'Cancel',\r\n          handler: () => {\r\n            //console.log('Disagree clicked');\r\n          }\r\n        },\r\n        {\r\n          text: 'Confirm',\r\n          handler: () => {\r\n            if(!this.isInventory) {\r\n              this.articleService.deleteArticle(this.key);\r\n            } else {\r\n              this.articleService.deleteInventory(this.key);\r\n            }\r\n\r\n            this.toastCtrl.create({\r\n              message: 'Item deleted',\r\n              duration: 2000,\r\n              position: 'bottom'\r\n            }).present();\r\n\r\n            this.navCtrl.pop();\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    confirm.present();\r\n  }\r\n\r\n  soon() {\r\n    this.toastCtrl.create({\r\n      message: 'Coming soon',\r\n      duration: 2000,\r\n      position: 'bottom'\r\n    }).present();\r\n  }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/article/article.ts"],"sourceRoot":""}